<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DedSec OS v2.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
        
        * {
            font-family: 'Share Tech Mono', monospace;
            user-select: none;
            -webkit-user-select: none;
        }

        body {
            background: #000;
            overflow: hidden;
            position: relative;
        }

        /* Glitch Effect */
        @keyframes glitch {
            0% { transform: translate(0); filter: hue-rotate(0deg); }
            20% { transform: translate(-2px, 2px); filter: hue-rotate(90deg); }
            40% { transform: translate(-2px, -2px); filter: hue-rotate(180deg); }
            60% { transform: translate(2px, 2px); filter: hue-rotate(270deg); }
            80% { transform: translate(2px, -2px); filter: hue-rotate(360deg); }
            100% { transform: translate(0); filter: hue-rotate(0deg); }
        }

        @keyframes glitchText {
            0%, 100% { 
                text-shadow: 
                    0.02em 0 0 #00ffff,
                    -0.02em -0 0 #ff00ff,
                    0.025em 0.05em 0 #ffff00;
            }
            25% {
                text-shadow: 
                    0.025em 0.05em 0 #00ffff,
                    -0.05em -0.025em 0 #ff00ff,
                    0.02em 0 0 #ffff00;
            }
            50% {
                text-shadow: 
                    -0.05em -0.025em 0 #00ffff,
                    0.025em 0.025em 0 #ff00ff,
                    -0.05em -0.05em 0 #ffff00;
            }
        }

        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100vh); }
        }

        @keyframes noise {
            0%, 100% { opacity: 0; }
            10% { opacity: 0.1; }
            50% { opacity: 0.5; }
            60% { opacity: 0.2; }
            90% { opacity: 0.3; }
        }

        .glitch {
            animation: glitch 0.3s infinite;
        }

        .glitch-text {
            animation: glitchText 2s infinite;
        }

        .scanline {
            position: fixed;
            width: 100%;
            height: 2px;
            background: linear-gradient(to bottom, transparent, #00ff00, transparent);
            animation: scanline 8s linear infinite;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.5;
        }

        .noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZmlsdGVyIGlkPSJmIj48ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iOSIgbnVtT2N0YXZlcz0iNCIgc2VlZD0iNSIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbHRlcj0idXJsKCNmKSIgb3BhY2l0eT0iMC4wMyIvPjwvc3ZnPg==');
            animation: noise 0.5s steps(10) infinite;
            pointer-events: none;
            z-index: 9998;
        }

        .neon-border {
            border: 2px solid #00ff00;
            box-shadow: 
                0 0 10px #00ff00,
                inset 0 0 10px rgba(0, 255, 0, 0.2);
        }

        .app-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            border: 1px solid #00ff00;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .app-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px #00ff00;
        }

        .app-icon:active {
            transform: scale(0.95);
        }

        .app-window {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0,0,0,0.95), rgba(10,10,10,0.98));
            z-index: 1000;
            display: none;
            flex-direction: column;
        }

        .app-window.active {
            display: flex;
        }

        .app-header {
            background: linear-gradient(90deg, #00ff00, #00ffff);
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #00ff00;
        }

        .close-btn {
            width: 30px;
            height: 30px;
            background: #ff0000;
            border: 2px solid #fff;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .close-btn:hover {
            background: #ff3333;
            transform: scale(1.1);
        }

        .cyber-button {
            background: linear-gradient(135deg, #00ff00, #00ffff);
            color: #000;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.3s;
            margin: 5px;
        }

        .cyber-button:hover {
            box-shadow: 0 0 20px #00ff00;
            transform: translateY(-2px);
        }

        .cyber-button:active {
            transform: translateY(0);
        }

        .ascii-skull {
            color: #00ff00;
            font-size: 10px;
            line-height: 1;
            white-space: pre;
            text-align: center;
        }

        video {
            width: 100%;
            height: auto;
            max-height: 50vh;
            background: #000;
        }

        .data-overlay {
            position: absolute;
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid #00ff00;
            padding: 10px;
            color: #00ff00;
            font-size: 12px;
            backdrop-filter: blur(5px);
            animation: glitch 0.5s infinite;
        }

        .loading-bar {
            width: 100%;
            height: 20px;
            background: #111;
            border: 1px solid #00ff00;
            position: relative;
            overflow: hidden;
        }

        .loading-progress {
            height: 100%;
            background: linear-gradient(90deg, #00ff00, #00ffff);
            animation: loading 2s ease-in-out;
        }

        @keyframes loading {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        .upgrade-tree {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .upgrade-item {
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid #00ff00;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .upgrade-item:hover {
            background: rgba(0, 255, 0, 0.3);
            transform: scale(1.05);
        }

        .fake-app {
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid #00ffff;
            padding: 10px;
            margin: 10px;
            cursor: pointer;
        }

        .fake-app:hover {
            background: rgba(0, 255, 255, 0.2);
        }
    </style>
</head>
<body class="bg-black text-green-400 min-h-screen">
    <div class="scanline"></div>
    <div class="noise"></div>
    
    <!-- Phone Frame -->
    <div class="min-h-screen flex flex-col relative">
        <!-- Status Bar -->
        <div class="bg-black border-b border-green-400 p-2 flex justify-between items-center">
            <span class="text-xs glitch-text">DedSec OS v2.0</span>
            <span class="text-xs" id="time">00:00</span>
            <span class="text-xs">‚ö° 100%</span>
        </div>
        
        <!-- Home Screen -->
        <div id="homeScreen" class="flex-1 p-4">
            <div class="grid grid-cols-3 gap-4">
                <!-- DedSec App -->
                <div class="flex flex-col items-center" onclick="openApp('dedsec')">
                    <div class="app-icon">
                        <span class="text-2xl">üíÄ</span>
                    </div>
                    <span class="text-xs mt-1">DedSec</span>
                </div>
                
                <!-- Profiler -->
                <div class="flex flex-col items-center" onclick="openApp('profiler')">
                    <div class="app-icon">
                        <span class="text-2xl">üëÅ</span>
                    </div>
                    <span class="text-xs mt-1">Profiler</span>
                </div>
                
                <!-- Car Controller -->
                <div class="flex flex-col items-center" onclick="openApp('car')">
                    <div class="app-icon">
                        <span class="text-2xl">üöó</span>
                    </div>
                    <span class="text-xs mt-1">CarCtrl</span>
                </div>
                
                <!-- Traffic Light -->
                <div class="flex flex-col items-center" onclick="openApp('traffic')">
                    <div class="app-icon">
                        <span class="text-2xl">üö¶</span>
                    </div>
                    <span class="text-xs mt-1">Traffic</span>
                </div>
                
                <!-- Research -->
                <div class="flex flex-col items-center" onclick="openApp('research')">
                    <div class="app-icon">
                        <span class="text-2xl">üî¨</span>
                    </div>
                    <span class="text-xs mt-1">Research</span>
                </div>
                
                <!-- Media Player -->
                <div class="flex flex-col items-center" onclick="openApp('media')">
                    <div class="app-icon">
                        <span class="text-2xl">üéµ</span>
                    </div>
                    <span class="text-xs mt-1">Media</span>
                </div>
                
                <!-- Know-It-All -->
                <div class="flex flex-col items-center" onclick="openApp('wiki')">
                    <div class="app-icon">
                        <span class="text-2xl">üìö</span>
                    </div>
                    <span class="text-xs mt-1">Know-It</span>
                </div>
                
                <!-- App Shop -->
                <div class="flex flex-col items-center" onclick="openApp('shop')">
                    <div class="app-icon">
                        <span class="text-2xl">üõí</span>
                    </div>
                    <span class="text-xs mt-1">AppShop</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- App Windows -->
    
    <!-- DedSec App -->
    <div id="dedsec-app" class="app-window">
        <div class="app-header">
            <h2 class="text-black font-bold">DedSec Hub</h2>
            <div class="close-btn" onclick="closeApp('dedsec-app')">√ó</div>
        </div>
        <div class="flex-1 overflow-auto p-4">
            <div class="ascii-skull mb-4">
     _____ 
    /     \
   | () () |
    \  ^  /
     |||||
     |||||
            </div>
            <div class="bg-red-900 bg-opacity-50 border border-red-500 p-4 mb-4 glitch">
                <h3 class="text-red-400 font-bold">‚ö† SYSTEM BREACH DETECTED</h3>
                <p class="text-xs mt-2">Multiple intrusion attempts blocked</p>
            </div>
            <div class="bg-green-900 bg-opacity-30 border border-green-400 p-4 mb-4">
                <h3 class="font-bold">Recent Activity</h3>
                <ul class="text-xs mt-2">
                    <li>‚Ä¢ Backdoor installed: City MainFrame</li>
                    <li>‚Ä¢ Data extracted: 47.3TB</li>
                    <li>‚Ä¢ Botnet nodes: 12,847 active</li>
                    <li>‚Ä¢ Current bounty: $2,450,000</li>
                </ul>
            </div>
            <div class="grid grid-cols-2 gap-2">
                <button class="cyber-button" onclick="showNotification('Initiating DDoS...')">DDoS Attack</button>
                <button class="cyber-button" onclick="showNotification('Scrambling signals...')">Signal Jam</button>
                <button class="cyber-button" onclick="showNotification('Injecting malware...')">Inject Virus</button>
                <button class="cyber-button" onclick="showNotification('Spoofing identity...')">ID Spoof</button>
            </div>
        </div>
    </div>
    
    <!-- Profiler App -->
    <div id="profiler-app" class="app-window">
        <div class="app-header">
            <h2 class="text-black font-bold">Profiler Scanner</h2>
            <div class="close-btn" onclick="closeApp('profiler-app')">√ó</div>
        </div>
        <div class="flex-1 overflow-auto p-4">
            <video id="profilerVideo" autoplay playsinline class="w-full mb-4"></video>
            <div id="profilerData" class="hidden bg-green-900 bg-opacity-30 border border-green-400 p-4">
                <h3 class="font-bold mb-2">Subject Profile:</h3>
                <div id="profileInfo" class="text-xs"></div>
            </div>
            <button class="cyber-button w-full" onclick="startProfiler()">Activate Scanner</button>
        </div>
    </div>
    
    <!-- Car Controller App -->
    <div id="car-app" class="app-window">
        <div class="app-header">
            <h2 class="text-black font-bold">Vehicle Control</h2>
            <div class="close-btn" onclick="closeApp('car-app')">√ó</div>
        </div>
        <div class="flex-1 overflow-auto p-4">
            <video id="carVideo" autoplay playsinline class="w-full mb-4"></video>
            <div id="carControls" class="hidden">
                <div class="bg-cyan-900 bg-opacity-30 border border-cyan-400 p-4 mb-4">
                    <h3 class="font-bold">Vehicle ID: <span id="carId">CAR-ID-X00000</span></h3>
                </div>
                <div class="grid grid-cols-2 gap-2">
                    <button class="cyber-button" onclick="carAction('start')">üîë Remote Start</button>
                    <button class="cyber-button" onclick="carAction('unlock')">üîì Unlock Doors</button>
                    <button class="cyber-button" onclick="carAction('left')">‚¨ÖÔ∏è Turn Left</button>
                    <button class="cyber-button" onclick="carAction('right')">‚û°Ô∏è Turn Right</button>
                    <button class="cyber-button" onclick="carAction('alarm')">üö® Trigger Alarm</button>
                    <button class="cyber-button" onclick="carAction('shutdown')">‚õî Shutdown</button>
                </div>
            </div>
            <button class="cyber-button w-full" onclick="startCarScanner()">Scan for Vehicles</button>
        </div>
    </div>
    
    <!-- Traffic Light App -->
    <div id="traffic-app" class="app-window">
        <div class="app-header">
            <h2 class="text-black font-bold">Traffic Override</h2>
            <div class="close-btn" onclick="closeApp('traffic-app')">√ó</div>
        </div>
        <div class="flex-1 overflow-auto p-4">
            <video id="trafficVideo" autoplay playsinline class="w-full mb-4"></video>
            <div id="trafficControls" class="hidden">
                <div class="loading-bar mb-4">
                    <div class="loading-progress"></div>
                </div>
                <div class="grid grid-cols-1 gap-2">
                    <button class="cyber-button bg-green-500" onclick="trafficAction('green')">üü¢ Force Green</button>
                    <button class="cyber-button bg-red-500" onclick="trafficAction('red')">üî¥ Force Red</button>
                    <button class="cyber-button bg-yellow-500" onclick="trafficAction('cycle')">üîÑ Cycle Sequence</button>
                    <button class="cyber-button" onclick="trafficAction('chaos')">üí• Chaos Mode</button>
                </div>
            </div>
            <button class="cyber-button w-full" onclick="startTrafficScanner()">Detect Traffic Lights</button>
        </div>
    </div>
    
    <!-- Research App -->
    <div id="research-app" class="app-window">
        <div class="app-header">
            <h2 class="text-black font-bold">Research Lab</h2>
            <div class="close-btn" onclick="closeApp('research-app')">√ó</div>
        </div>
        <div class="flex-1 overflow-auto p-4">
            <h3 class="font-bold mb-4 text-cyan-400">Hack Upgrades</h3>
            <div class="upgrade-tree">
                <div class="upgrade-item" onclick="unlockUpgrade('Signal Jammer')">
                    <div class="text-2xl mb-2">üì°</div>
                    <div class="font-bold">Signal Jammer</div>
                    <div class="text-xs mt-2">Block all communications</div>
                </div>
                <div class="upgrade-item" onclick="unlockUpgrade('Network Worm')">
                    <div class="text-2xl mb-2">üêõ</div>
                    <div class="font-bold">Network Worm</div>
                    <div class="text-xs mt-2">Spread through systems</div>
                </div>
                <div class="upgrade-item" onclick="unlockUpgrade('Authority Scrambler')">
                    <div class="text-2xl mb-2">üîÄ</div>
                    <div class="font-bold">Authority Scrambler</div>
                    <div class="text-xs mt-2">Confuse law enforcement</div>
                </div>
                <div class="upgrade-item" onclick="unlockUpgrade('Data Siphon')">
                    <div class="text-2xl mb-2">üíæ</div>
                    <div class="font-bold">Data Siphon</div>
                    <div class="text-xs mt-2">Extract all information</div>
                </div>
                <div class="upgrade-item" onclick="unlockUpgrade('Ghost Protocol')">
                    <div class="text-2xl mb-2">üëª</div>
                    <div class="font-bold">Ghost Protocol</div>
                    <div class="text-xs mt-2">Become invisible</div>
                </div>
                <div class="upgrade-item" onclick="unlockUpgrade('Chaos Engine')">
                    <div class="text-2xl mb-2">‚ö°</div>
                    <div class="font-bold">Chaos Engine</div>
                    <div class="text-xs mt-2">Maximum disruption</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Media Player App -->
    <div id="media-app" class="app-window">
        <div class="app-header">
            <h2 class="text-black font-bold">Glitch Media</h2>
            <div class="close-btn" onclick="closeApp('media-app')">√ó</div>
        </div>
        <div class="flex-1 overflow-auto p-4">
            <div class="bg-purple-900 bg-opacity-30 border border-purple-400 p-4 mb-4">
                <h3 class="font-bold mb-4">Cyber Tracks</h3>
                <div class="space-y-2">
                    <div class="p-2 bg-black bg-opacity-50 cursor-pointer hover:bg-opacity-70" onclick="playTrack('System Breach')">
                        ‚ñ∂Ô∏è System Breach - 3:42
                    </div>
                    <div class="p-2 bg-black bg-opacity-50 cursor-pointer hover:bg-opacity-70" onclick="playTrack('Digital Anarchy')">
                        ‚ñ∂Ô∏è Digital Anarchy - 4:15
                    </div>
                    <div class="p-2 bg-black bg-opacity-50 cursor-pointer hover:bg-opacity-70" onclick="playTrack('Neon Dreams')">
                        ‚ñ∂Ô∏è Neon Dreams - 5:23
                    </div>
                    <div class="p-2 bg-black bg-opacity-50 cursor-pointer hover:bg-opacity-70" onclick="playTrack('Hack the Planet')">
                        ‚ñ∂Ô∏è Hack the Planet - 3:58
                    </div>
                    <div class="p-2 bg-black bg-opacity-50 cursor-pointer hover:bg-opacity-70" onclick="playTrack('Ghost in Machine')">
                        ‚ñ∂Ô∏è Ghost in Machine - 6:01
                    </div>
                </div>
            </div>
            <div id="nowPlaying" class="hidden bg-green-900 bg-opacity-30 border border-green-400 p-4">
                <h3 class="font-bold">Now Playing:</h3>
                <p id="trackName" class="text-cyan-400 mt-2"></p>
                <div class="loading-bar mt-4">
                    <div class="loading-progress"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Know-It-All App -->
    <div id="wiki-app" class="app-window">
        <div class="app-header">
            <h2 class="text-black font-bold">Know-It-All Database</h2>
            <div class="close-btn" onclick="closeApp('wiki-app')">√ó</div>
        </div>
        <div class="flex-1 overflow-auto p-4">
            <input type="text" id="searchQuery" placeholder="Search database..." class="w-full p-2 bg-black border border-green-400 text-green-400 mb-4">
            <button class="cyber-button w-full mb-4" onclick="searchDatabase()">Access Data</button>
            <div id="searchResults" class="space-y-4"></div>
            <div class="bg-cyan-900 bg-opacity-30 border border-cyan-400 p-4">
                <h3 class="font-bold mb-2">Random Facts:</h3>
                <ul class="text-xs space-y-1" id="randomFacts"></ul>
            </div>
        </div>
    </div>
    
    <!-- App Shop -->
    <div id="shop-app" class="app-window">
        <div class="app-header">
            <h2 class="text-black font-bold">Underground App Shop</h2>
            <div class="close-btn" onclick="closeApp('shop-app')">√ó</div>
        </div>
        <div class="flex-1 overflow-auto p-4">
            <h3 class="font-bold mb-4 text-purple-400 glitch-text">Featured Apps</h3>
            <div class="space-y-2">
                <div class="fake-app">
                    <h4 class="font-bold">CryptoMiner Pro</h4>
                    <p class="text-xs">Mine cryptocurrency on any device</p>
                    <button class="cyber-button text-xs mt-2" onclick="downloadApp('CryptoMiner Pro')">DOWNLOAD</button>
                </div>
                <div class="fake-app">
                    <h4 class="font-bold">FakeID Generator</h4>
                    <p class="text-xs">Create unlimited fake identities</p>
                    <button class="cyber-button text-xs mt-2" onclick="downloadApp('FakeID Generator')">DOWNLOAD</button>
                </div>
                <div class="fake-app">
                    <h4 class="font-bold">WiFi Destroyer</h4>
                    <p class="text-xs">Crash any network instantly</p>
                    <button class="cyber-button text-xs mt-2" onclick="downloadApp('WiFi Destroyer')">DOWNLOAD</button>
                </div>
                <div class="fake-app">
                    <h4 class="font-bold">Bank Vault Cracker</h4>
                    <p class="text-xs">Digital lockpicking toolkit</p>
                    <button class="cyber-button text-xs mt-2" onclick="downloadApp('Bank Vault Cracker')">DOWNLOAD</button>
                </div>
                <div class="fake-app">
                    <h4 class="font-bold">Surveillance Blocker</h4>
                    <p class="text-xs">Become invisible to all cameras</p>
                    <button class="cyber-button text-xs mt-2" onclick="downloadApp('Surveillance Blocker')">DOWNLOAD</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification System -->
    <div id="notification" class="fixed top-20 left-1/2 transform -translate-x-1/2 bg-green-900 bg-opacity-90 border border-green-400 px-6 py-3 rounded hidden z-50">
        <span id="notificationText"></span>
    </div>

    <script>
        // Time display
        function updateTime() {
            const now = new Date();
            document.getElementById('time').textContent = now.toTimeString().slice(0, 5);
        }
        setInterval(updateTime, 1000);
        updateTime();

        // Random data generators
        const firstNames = ['Alex', 'Jordan', 'Sam', 'Casey', 'Morgan', 'Taylor', 'Riley', 'Avery', 'Quinn', 'Blake'];
        const lastNames = ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Garcia', 'Miller', 'Davis', 'Rodriguez', 'Martinez'];
        const jobs = ['Software Engineer', 'Accountant', 'Teacher', 'Doctor', 'Lawyer', 'Artist', 'Chef', 'Pilot', 'Nurse', 'Mechanic'];
        const crimes = ['None', 'Jaywalking', 'Parking Violation', 'Speeding', 'Tax Evasion', 'Digital Piracy', 'Conspiracy', 'Hacking'];
        const hobbies = ['Gaming', 'Reading', 'Cooking', 'Sports', 'Music', 'Art', 'Travel', 'Photography', 'Dancing', 'Writing'];
        const traits = ['Ambitious', 'Creative', 'Paranoid', 'Optimistic', 'Cynical', 'Friendly', 'Introverted', 'Risk-taker', 'Analytical', 'Impulsive'];

        function randomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function randomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function generateID() {
            return Math.random().toString(36).substring(2, 9).toUpperCase();
        }

        // App management
        function openApp(appName) {
            document.getElementById(appName + '-app').classList.add('active');
        }

        function closeApp(appId) {
            document.getElementById(appId).classList.remove('active');
            // Stop video streams when closing camera apps
            if (appId === 'profiler-app') {
                const video = document.getElementById('profilerVideo');
                if (video.srcObject) {
                    video.srcObject.getTracks().forEach(track => track.stop());
                    video.srcObject = null;
                }
            }
            if (appId === 'car-app') {
                const video = document.getElementById('carVideo');
                if (video.srcObject) {
                    video.srcObject.getTracks().forEach(track => track.stop());
                    video.srcObject = null;
                }
            }
            if (appId === 'traffic-app') {
                const video = document.getElementById('trafficVideo');
                if (video.srcObject) {
                    video.srcObject.getTracks().forEach(track => track.stop());
                    video.srcObject = null;
                }
            }
        }

        // Notification system
        function showNotification(message) {
            const notification = document.getElementById('notification');
            document.getElementById('notificationText').textContent = message;
            notification.classList.remove('hidden');
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }

        // Profiler functions
        function startProfiler() {
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                .then(stream => {
                    document.getElementById('profilerVideo').srcObject = stream;
                    setTimeout(() => {
                        generateProfile();
                    }, 2000);
                })
                .catch(err => {
                    showNotification('Camera access denied!');
                    // Generate fake profile anyway for demo
                    generateProfile();
                });
        }

        function generateProfile() {
            const profileData = {
                name: `${randomItem(firstNames)} ${randomItem(lastNames)}`,
                id: `ID-${generateID()}`,
                job: randomItem(jobs),
                income: `$${randomNumber(25, 250)},${randomNumber(100, 999)}`,
                trait: randomItem(traits),
                crime: randomItem(crimes),
                hobby: randomItem(hobbies),
                threat: randomNumber(1, 10)
            };

            document.getElementById('profileInfo').innerHTML = `
                <p><strong>Name:</strong> ${profileData.name}</p>
                <p><strong>ID:</strong> ${profileData.id}</p>
                <p><strong>Occupation:</strong> ${profileData.job}</p>
                <p><strong>Income:</strong> ${profileData.income}/year</p>
                <p><strong>Personality:</strong> ${profileData.trait}</p>
                <p><strong>Criminal History:</strong> ${profileData.crime}</p>
                <p><strong>Known Hobbies:</strong> ${profileData.hobby}</p>
                <p><strong>Threat Level:</strong> ${profileData.threat}/10</p>
            `;
            document.getElementById('profilerData').classList.remove('hidden');
            showNotification('Subject identified!');
        }

        // Car Controller functions
        function startCarScanner() {
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                .then(stream => {
                    document.getElementById('carVideo').srcObject = stream;
                    setTimeout(() => {
                        detectCar();
                    }, 2000);
                })
                .catch(err => {
                    showNotification('Camera access denied!');
                    // Show controls anyway for demo
                    detectCar();
                });
        }

        function detectCar() {
            document.getElementById('carId').textContent = `CAR-ID-${generateID()}`;
            document.getElementById('carControls').classList.remove('hidden');
            showNotification('Vehicle detected! Control established.');
        }

        function carAction(action) {
            const messages = {
                'start': 'Engine started remotely!',
                'unlock': 'Doors unlocked!',
                'left': 'Steering left...',
                'right': 'Steering right...',
                'alarm': 'Alarm triggered!',
                'shutdown': 'Engine shutdown initiated!'
            };
            showNotification(messages[action]);
        }

        // Traffic Light functions
        function startTrafficScanner() {
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                .then(stream => {
                    document.getElementById('trafficVideo').srcObject = stream;
                    setTimeout(() => {
                        detectTrafficLight();
                    }, 2000);
                })
                .catch(err => {
                    showNotification('Camera access denied!');
                    // Show controls anyway for demo
                    detectTrafficLight();
                });
        }

        function detectTrafficLight() {
            document.getElementById('trafficControls').classList.remove('hidden');
            showNotification('Traffic system compromised!');
        }

        function trafficAction(action) {
            const messages = {
                'green': 'Forcing all lights GREEN...',
                'red': 'Forcing all lights RED...',
                'cycle': 'Cycling sequence initiated...',
                'chaos': 'CHAOS MODE ACTIVATED!'
            };
            showNotification(messages[action]);
        }

        // Research functions
        function unlockUpgrade(upgrade) {
            showNotification(`${upgrade} UNLOCKED!`);
        }

        // Media Player functions
        function playTrack(trackName) {
            document.getElementById('trackName').textContent = trackName;
            document.getElementById('nowPlaying').classList.remove('hidden');
            showNotification(`Now playing: ${trackName}`);
        }

        // Know-It-All functions
        function searchDatabase() {
            const query = document.getElementById('searchQuery').value;
            if (!query) {
                showNotification('Enter search term!');
                return;
            }

            const results = [
                `${query}: A sophisticated algorithm used by DedSec operatives worldwide.`,
                `${query}: First discovered in ${randomNumber(1990, 2023)} by underground hackers.`,
                `${query}: Classified information level ${randomNumber(1, 10)}.`,
                `${query}: Known vulnerabilities: ${randomNumber(5, 50)} exploits documented.`,
                `${query}: Connected to ${randomNumber(100, 10000)} data nodes globally.`
            ];

            document.getElementById('searchResults').innerHTML = `
                <div class="bg-purple-900 bg-opacity-30 border border-purple-400 p-4">
                    <h4 class="font-bold mb-2">Search Results:</h4>
                    <p class="text-xs">${randomItem(results)}</p>
                </div>
            `;
        }

        // Generate random facts
        function generateRandomFacts() {
            const facts = [
                `‚Ä¢ There are ${randomNumber(1000, 50000)} active backdoors in government systems`,
                `‚Ä¢ DedSec has ${randomNumber(10000, 100000)} members worldwide`,
                `‚Ä¢ ${randomNumber(70, 95)}% of smart devices are hackable`,
                `‚Ä¢ The deep web is ${randomNumber(100, 500)}x larger than surface web`,
                `‚Ä¢ Average person is recorded ${randomNumber(50, 200)} times per day`
            ];
            document.getElementById('randomFacts').innerHTML = facts.join('\n');
        }
        generateRandomFacts();

        // App Shop functions
        function downloadApp(appName) {
            showNotification(`Downloading ${appName}... [FAKE DOWNLOAD]`);
            setTimeout(() => {
                showNotification(`${appName} installed! [NOT REALLY]`);
            }, 2000);
        }

        // Add glitch effect randomly
        setInterval(() => {
            const elements = document.querySelectorAll('.app-icon, h2, h3');
            const randomElement = elements[Math.floor(Math.random() * elements.length)];
            randomElement.classList.add('glitch');
            setTimeout(() => {
                randomElement.classList.remove('glitch');
            }, 300);
        }, 3000);

        // Periodic "hacking" notifications
        const hackMessages = [
            'Firewall breach detected!',
            'New botnet node activated',
            'Data extraction complete',
            'Backdoor installed successfully',
            'Anonymous tip received',
            'Police scanner intercepted',
            'Encryption cracked',
            'New zero-day discovered'
        ];

        setInterval(() => {
            if (Math.random() > 0.7) {
                showNotification(randomItem(hackMessages));
            }
        }, 10000);
    </script>
</body>
</html>
